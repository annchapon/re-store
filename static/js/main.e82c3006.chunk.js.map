{"version":3,"sources":["components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/bookstore-service-context/bookstore-service-context.js","components/hoc/with-bookstore-service.js","utils/compose.js","components/book-list/book-list.js","actions/index.js","components/book-list/index.js","components/pages/home-page.js","components/pages/cart-page.js","components/app/index.js","components/app/app.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/bookstore-service.js","reducers/index.js","store.js","index.js"],"names":["BookListItem","book","title","author","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","bookstoreService","compose","funcs","comp","reduceRight","prevResult","f","BookList","data","this","getBooks","booksLoaded","books","map","id","Component","mapDispatchToProps","newBooks","type","payload","connect","HomePage","CartPage","App","path","component","exact","ErrorIndicator","ErrorBoundry","state","hasError","setState","children","BookstoreService","initialState","reducer","action","store","createStore","ReactDOM","render","value","document","getElementById"],"mappings":"gTAEeA,ECEM,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACdC,EAAkBD,EAAlBC,MAAOC,EAAWF,EAAXE,OAEf,OACE,eAAC,WAAD,WACE,+BAAOD,IACP,uBACA,+BAAOC,Q,QCTb,EAGIC,IAAMC,gBAFEC,EADZ,EACEC,SACUC,EAFZ,EAEEC,SCgBaC,EAhBc,kBAAM,SAACC,GAClC,OAAO,SAACC,GACN,OACE,cAACJ,EAAD,UAEI,SAACK,GACC,OACE,cAACF,EAAD,2BAAaC,GAAb,IAAoBC,iBAAkBA,WCNrCC,EALC,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAAc,SAACC,GAC7B,OAAOD,EAAME,aACX,SAACC,EAAYC,GAAb,OAAmBA,EAAED,KAAaF,KCQhCI,G,6KACJ,WAEE,IACMC,EADuBC,KAAKV,MAA1BC,iBACsBU,WAI9BD,KAAKV,MAAMY,YAAYH,K,oBAGzB,WACE,IAAQI,EAAUH,KAAKV,MAAfa,MAER,OACE,6BAEIA,EAAMC,KAAI,SAACzB,GACT,OACE,6BACE,cAAC,EAAD,CAAcA,KAAMA,KADbA,EAAK0B,a,GAnBLC,cAoCjBC,EAAqB,CACzBL,YC/CkB,SAACM,GACnB,MAAO,CACLC,KAAM,eACNC,QAASF,KCDEV,EFgDAN,EACbJ,IACAuB,aAZsB,SAAC,GACvB,MAAO,CACLR,MAFmC,EAAZA,SAYAI,GAFZf,CAGbM,GGzCac,EATE,WACf,OACE,gCACE,0CACA,cAAC,EAAD,CAAUT,MAAO,SCDRU,EAJE,WACf,OAAO,6CCDMC,G,MCIH,WACV,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,IAAIC,UAAWJ,EAAUK,OAAK,IAC1C,cAAC,IAAD,CAAOF,KAAK,YAAYC,UAAWJ,IACnC,cAAC,IAAD,CAAOG,KAAK,QAAQC,UAAWH,SCTtBK,G,MCEQ,WACrB,OAAO,2CCHMC,E,4MCGbC,MAAQ,CACNC,UAAU,G,uDAGZ,WACErB,KAAKsB,SAAS,CACZD,UAAU,M,oBAId,WACE,OAAIrB,KAAKoB,MAAMC,SACN,cAAC,EAAD,IAGFrB,KAAKV,MAAMiC,a,GAhBoBjB,aCJrBkB,E,wFACnB,WACE,MAAO,CACL,CACEnB,GAAI,EACJzB,MAAO,iCACPC,OAAQ,mBACV,CACEwB,GAAI,EACJzB,MAAO,cACPC,OAAQ,0B,aCVV4C,EAAe,CACnBtB,MAAO,IAyBMuB,EAZC,WAAmC,IAAlCN,EAAiC,uDAAzBK,EAAcE,EAAW,uCAChD,OAAQA,EAAOlB,MACb,IAAK,eACH,MAAO,CACLN,MAAOwB,EAAOjB,SAGlB,QACE,OAAOU,IChBEQ,EAFDC,YAAYH,GCQpBnC,EAAmB,IAAIiC,EAE7BM,IAASC,OACP,cAAC,IAAD,CAAUH,MAAOA,EAAjB,SACE,cAAC,EAAD,UACE,cAAC5C,EAAD,CAA0BgD,MAAOzC,EAAjC,SACE,cAAC,IAAD,UACE,cAAC,EAAD,YAKR0C,SAASC,eAAe,W","file":"static/js/main.e82c3006.chunk.js","sourcesContent":["import BookListItem from './book-list-item';\r\n\r\nexport default BookListItem;","import React, { Fragment } from 'react';\r\n\r\nimport './book-list-item.css';\r\n\r\nconst BookListItem = ({ book }) => {\r\n  const { title, author } = book;\r\n\r\n  return (\r\n    <Fragment>\r\n      <span>{title}</span>\r\n      <br />\r\n      <span>{author}</span>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default BookListItem;","import React from 'react';\r\n\r\nconst {\r\n  Provider: BookstoreServiceProvider,\r\n  Consumer: BookstoreServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n  BookstoreServiceProvider,\r\n  BookstoreServiceConsumer\r\n};","import React from 'react';\r\n\r\nimport { BookstoreServiceConsumer } from '../bookstore-service-context';\r\n\r\nconst withBookstoreService = () => (Wrapped) => {\r\n  return (props) => {\r\n    return (\r\n      <BookstoreServiceConsumer>\r\n        {\r\n          (bookstoreService) => {\r\n            return (\r\n              <Wrapped {...props} bookstoreService={bookstoreService} />\r\n            );\r\n          }\r\n        }\r\n      </BookstoreServiceConsumer>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withBookstoreService;","const compose = (...funcs) => (comp) => {\r\n  return funcs.reduceRight(\r\n    (prevResult, f) => f(prevResult), comp);\r\n};\r\n\r\nexport default compose;","import React, { Component } from 'react';\r\nimport BookListItem from '../book-list-item';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withBookstoreService } from '../hoc';\r\nimport { booksLoaded } from '../../actions';\r\nimport { compose } from '../../utils';\r\n\r\nimport './book-list.css';\r\n\r\nclass BookList extends Component {\r\n  componentDidMount() {\r\n    // 1. receive data\r\n    const { bookstoreService } = this.props;\r\n    const data = bookstoreService.getBooks();\r\n    // console.log(data);\r\n\r\n    // 2. dispatch action to store\r\n    this.props.booksLoaded(data);\r\n  }\r\n\r\n  render() {\r\n    const { books } = this.props;\r\n\r\n    return (\r\n      <ul>\r\n        {\r\n          books.map((book) => {\r\n            return (\r\n              <li key={book.id}>\r\n                <BookListItem book={book} />\r\n              </li>\r\n            )\r\n          })\r\n        }\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ books }) => {\r\n  return {\r\n    books\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  booksLoaded\r\n};\r\n\r\nexport default compose(\r\n  withBookstoreService(),\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(BookList);","const booksLoaded = (newBooks) => {\r\n  return {\r\n    type: 'BOOKS_LOADED',\r\n    payload: newBooks\r\n  };\r\n};\r\n\r\nexport {\r\n  booksLoaded\r\n};","import BookList from './book-list';\r\n\r\nexport default BookList;","import React from 'react';\r\nimport BookList from '../book-list';\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <div>\r\n      <p>Home Page</p>\r\n      <BookList books={[]} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;","import React from 'react';\r\n\r\nconst CartPage = () => {\r\n  return <div>Cart Page</div>;\r\n};\r\n\r\nexport default CartPage;","import App from './app';\r\n\r\nexport default App;","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { HomePage, CartPage } from '../pages';\r\n\r\nimport './app.css';\r\n\r\nconst App = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/\" component={HomePage} exact />\r\n      <Route path=\"/re-store\" component={HomePage} />\r\n      <Route path=\"/cart\" component={CartPage} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default App;","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\n\r\nimport './error-indicator.css';\r\n\r\nconst ErrorIndicator = () => {\r\n  return <div>Error!</div>;\r\n};\r\n\r\nexport default ErrorIndicator;","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;","import React, { Component } from 'react';\r\n\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nexport default class ErrorBoundry extends Component {\r\n  state = {\r\n    hasError: false\r\n  };\r\n\r\n  componentDidCatch() {\r\n    this.setState({\r\n      hasError: true\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <ErrorIndicator />;\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}","export default class BookstoreService {\r\n  getBooks() {\r\n    return [\r\n      {\r\n        id: 1,\r\n        title: 'Production-Ready Microservices',\r\n        author: 'Susan J. Fowler' },\r\n      {\r\n        id: 2,\r\n        title: 'Release It!',\r\n        author: 'Michael T. Nygard' }\r\n    ];\r\n  }\r\n}","const initialState = {\r\n  books: []\r\n  /*books: [\r\n    {\r\n      id: 1,\r\n      title: 'Production-Ready Microservices',\r\n      author: 'Susan J. Fowler' },\r\n    {\r\n      id: 2,\r\n      title: 'Release It!',\r\n      author: 'Michael T. Nygard' }\r\n  ]*/\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'BOOKS_LOADED': \r\n      return {\r\n        books: action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;","import { createStore } from 'redux';\r\n\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nimport App from './components/app';\r\nimport ErrorBoundry from './components/error-boundry';\r\nimport BookstoreService from './services/bookstore-service';\r\nimport { BookstoreServiceProvider } from './components/bookstore-service-context';\r\n\r\nimport store from './store';\r\n\r\nconst bookstoreService = new BookstoreService();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ErrorBoundry>\r\n      <BookstoreServiceProvider value={bookstoreService}>\r\n        <Router>\r\n          <App />\r\n        </Router>\r\n      </BookstoreServiceProvider>\r\n    </ErrorBoundry>\r\n  </Provider>,\r\n  document.getElementById('root'));"],"sourceRoot":""}